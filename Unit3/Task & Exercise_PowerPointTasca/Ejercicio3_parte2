import java.io.*;

public class Ejer3 {
    public static void main(String[] args) {

        saveCabeceraFichero();
        saveDatosFichero();
        readFichero();
    }

    private static void saveCabeceraFichero(){
        try (DataOutputStream din = new DataOutputStream(new FileOutputStream("C:\\Users\\Natalia Coronado\\Documents\\productos.csv",true))) {
            din.writeUTF("ID;DESCRIPCION;PRECIO;UNIDAD");
        } catch (FileNotFoundException e) {
            System.out.println("No encuentra archivo");
        } catch (Exception e) {
            System.out.println("ERROR");
        }
    }

    private static void saveDatosFichero(){
        int[] idProducto = {1, 2, 3, 4, 5};
        String[] descripciones={"paquetes de papel","lápices","bolígrafos","carteras","mesas"};
        double[] precios={1350, 400, 890, 6200, 8730};
        int[] unidades={5, 7, 12, 8, 30};

        try (DataOutputStream din = new DataOutputStream(new FileOutputStream("C:\\Users\\Natalia Coronado\\Documents\\productos.dat"))) {
            for (int i=0;i< idProducto.length;i++){
                din.writeInt(idProducto[i]);
                din.writeUTF(descripciones[i]);
                din.writeDouble(precios[i]);
                din.writeInt(unidades[i]);
            }

        } catch (FileNotFoundException e) {
            System.out.println("No encuentra archivo");
        } catch (Exception e) {
            System.out.println("ERROR");
        }
    }

    private static void readFichero(){
        try (DataInputStream din = new DataInputStream(new FileInputStream("C:\\Users\\Natalia Coronado\\Documents\\productos.dat"))) {
            for (int i=0;i<5;i++){
                System.out.print(din.readInt()+";");
                System.out.print(din.readUTF()+";");
                System.out.print(din.readDouble()+";");
                System.out.print(din.readInt());
                System.out.println();
            }

        } catch (FileNotFoundException e) {
            System.out.println("No encuentra archivo");
        } catch (Exception e) {
            System.out.println("ERROR");
        }

    }

}
